from random import sample, seed
from pydantic import BaseModel
from typing import List


BUSES = [
    "P1UDT882LV.1",
    "P1UDT882LV.2",
    "P1ULV4109.1",
    "P1ULV4109.2",
    "P1UDM3853.1",
    "P1UDM3853.2",
    "P1ULV4110.1",
    "P1ULV4110.2",
    "P1UDT883LV.1",
    "P1UDT883LV.2",
    "P1UDM3854.1",
    "P1UDM3854.2",
    "P1ULV4111.1",
    "P1ULV4111.2",
    "P1UDT884LV.1",
    "P1UDT884LV.2",
    "P1ULV4112.1",
    "P1ULV4112.2",
    "P1UDM3856.1",
    "P1UDM3856.2",
    "P1ULV4113.1",
    "P1ULV4113.2",
    "P1UDT893LV.1",
    "P1UDT893LV.2",
    "P1ULV4136.1",
    "P1ULV4136.2",
    "P1UDM3883.1",
    "P1UDM3883.2",
    "P1ULV4137.1",
    "P1ULV4137.2",
    "P1UDT894LV.1",
    "P1UDT894LV.2",
    "P1UDM3884.1",
    "P1UDM3884.2",
    "P1ULV4138.1",
    "P1ULV4138.2",
    "P1UDT895LV.1",
    "P1UDT895LV.2",
    "P1ULV7543.1",
    "P1ULV7543.2",
    "P1UDM3885.1",
    "P1UDM3885.2",
    "P1ULV4139.1",
    "P1ULV4139.2",
    "P1UDM3887.1",
    "P1UDM3887.2",
    "P1ULV4140.1",
    "P1ULV4140.2",
    "P1UDM3889.1",
    "P1UDM3889.2",
    "P1ULV7633.1",
    "P1ULV7633.2",
    "P1UDT896LV.1",
    "P1UDT896LV.2",
    "P1UDM3888.1",
    "P1UDM3888.2",
    "P1ULV4197.1",
    "P1ULV4197.2",
    "P1UDT909LV.1",
    "P1UDT909LV.2",
    "P1ULV4155.1",
    "P1ULV4155.2",
    "P1UDT942LV.1",
    "P1UDT942LV.2",
    "P1ULV4193.1",
    "P1ULV4193.2",
    "P1UDT943LV.1",
    "P1UDT943LV.2",
    "P1ULV4196.1",
    "P1ULV4196.2",
    "P1UDT1431LV.1",
    "P1UDT1431LV.2",
    "P1ULV7544.1",
    "P1ULV7544.2",
    "P1UDT1432LV.1",
    "P1UDT1432LV.2",
    "P1ULV7546.1",
    "P1ULV7546.2",
    "P1UDT1433LV.1",
    "P1UDT1433LV.2",
    "P1ULV7547.1",
    "P1ULV7547.2",
    "P1UDT908-P1UDT909X.2",
    "P1UDT909.2",
    "P1UDT1433-P1UDT882X.3",
    "P1UDT882.3",
    "P1UDT1432-P1UDT881X.2",
    "P1UDT1432.2",
    "P1UDT896-P1UDT938X.3",
    "P1UDT896.3",
    "P1UDT942-P1UHS0_1247X.1",
    "P1UDT942-P1UHS0_1247X.2",
    "P1UDT942-P1UHS0_1247X.3",
    "P1UDT942.1",
    "P1UDT942.2",
    "P1UDT942.3",
    "P1UDT907LV.1",
    "P1UDT907LV.2",
    "P1UDT907LV.3",
    "P1ULV4153.1",
    "P1ULV4153.2",
    "P1ULV4153.3",
    "P1UDT908LV.1",
    "P1UDT908LV.2",
    "P1UDT908LV.3",
    "P1ULV4154.1",
    "P1ULV4154.2",
    "P1ULV4154.3",
    "P1UDT907.1",
    "P1UDT907.2",
    "P1UDT907.3",
    "P1UDT908.1",
    "P1UDT908.2",
    "P1UDT908.3",
    "P1UDT893.1",
    "P1UDT893.2",
    "P1UDT893.3",
    "P1UDT894.1",
    "P1UDT894.2",
    "P1UDT894.3",
    "P1UDT1425LV.1",
    "P1UDT1425LV.2",
    "P1UDT1425LV.3",
    "P1ULV7531.1",
    "P1ULV7531.2",
    "P1ULV7531.3",
    "P1UDT881LV.1",
    "P1UDT881LV.2",
    "P1UDT881LV.3",
    "P1ULV4108.1",
    "P1ULV4108.2",
    "P1ULV4108.3",
    "P1UDT1425-P1UDT881X.1",
    "P1UDT1425-P1UDT881X.2",
    "P1UDT1425-P1UDT881X.3",
    "P1UDT881.1",
    "P1UDT881.2",
    "P1UDT881.3",
    "P1UDT1433.1",
    "P1UDT1433.2",
    "P1UDT1433.3",
    "P1UDT1425.1",
    "P1UDT1425.2",
    "P1UDT1425.3",
    "P1UDT883.1",
    "P1UDT883.2",
    "P1UDT883.3",
    "P1UDT884.1",
    "P1UDT884.2",
    "P1UDT884.3",
    "P1UDT1431.1",
    "P1UDT1431.2",
    "P1UDT1431.3",
    "P1UDT1431-P1UDT895X.1",
    "P1UDT1431-P1UDT895X.2",
    "P1UDT1431-P1UDT895X.3",
    "P1UDT894-P1UDT895X.1",
    "P1UDT894-P1UDT895X.2",
    "P1UDT894-P1UDT895X.3",
    "P1UDT895.1",
    "P1UDT895.2",
    "P1UDT895.3",
    "P1UDT894-P1UDT942X.1",
    "P1UDT894-P1UDT942X.2",
    "P1UDT894-P1UDT942X.3",
    "P1UDT939LV.1",
    "P1UDT939LV.2",
    "P1UDT939LV.3",
    "P1ULV4189.1",
    "P1ULV4189.2",
    "P1ULV4189.3",
    "P1UDT938LV.1",
    "P1UDT938LV.2",
    "P1UDT938LV.3",
    "P1ULV4188.1",
    "P1ULV4188.2",
    "P1ULV4188.3",
    "P1UDT892LV.1",
    "P1UDT892LV.2",
    "P1UDT892LV.3",
    "P1ULV4132.1",
    "P1ULV4132.2",
    "P1ULV4132.3",
    "P1UDT938.1",
    "P1UDT938.2",
    "P1UDT938.3",
    "P1UDT892.1",
    "P1UDT892.2",
    "P1UDT892.3",
    "P1UDT943.1",
    "P1UDT943.2",
    "P1UDT943.3",
    "P1UDT939.1",
    "P1UDT939.2",
    "P1UDT939.3",
]

SLACK_BUS = [
    "P1UDT942-P1UHS0_1247X.1",
    "P1UDT942-P1UHS0_1247X.2",
    "P1UDT942-P1UHS0_1247X.3",
]


class MeasurementConfig(BaseModel):
    name: str
    additive_noise_stddev: float
    multiplicative_noise_stddev: float
    voltage_ids: List[str]
    real_power_ids: List[str]
    reactive_power_ids: List[str]


if __name__ == "__main__":
    seed(12345)
    for i in SLACK_BUS:
        BUSES.remove(i)
    print(
        MeasurementConfig(
            name="MeasurementFederate",
            additive_noise_stddev=0.1,
            multiplicative_noise_stddev=0.1,
            voltage_ids=sample(BUSES, 3 * len(BUSES) // 4),
            real_power_ids=sample(BUSES, 3 * len(BUSES) // 4),
            reactive_power_ids=sample(BUSES, 3 * len(BUSES) // 4),
        ).json()
    )
